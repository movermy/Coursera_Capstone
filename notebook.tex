
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{week\_5}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{\texorpdfstring{\textbf{Where should I
move?}}{Where should I move?}}\label{where-should-i-move}

A moving guidance app based on foursquare and clustering in python

    \section{Table of Contents}\label{table-of-contents}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Section \ref{intro}
\item
  Section \ref{setup}
\item
  Section \ref{data}
\item
  Section \ref{methodology}
\item
  Section \ref{results}
\item
  Section \ref{discussion}
\item
  Section \ref{conclusion}
\end{enumerate}

    

    \section{Introduction/Business
Problem}\label{introductionbusiness-problem}

    So many people move to an area unfamiliar to them for a job. These moves
often occur in a tight time-frame due to schedule pressures with career
start dates. This forces people to pick a neighborhood quickly, with
limited time to see if it is a good fit. What if there was there was
tool that related neighborhoods in a new city to those a person was
already familiar with?

In this project, I will assume a user has lived in two regions, and is
considering a move to two more. I will create maps coding the regions of
both the familiar and unfamiliar places. That way, the user can select a
new neighborhood that has properties they like from their old
neighborhood.

The intent is for this to be a proof of concept that could be related to
arbitrary old and new neighborhoods, extending the use of this tool to a
broadly marketable application service

    

    \section{Setup}\label{setup}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}82}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np} \PY{c+c1}{\PYZsh{} library to handle data in a vectorized manner}
         \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd} \PY{c+c1}{\PYZsh{} library for data analsysis}
         \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
         \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}rows}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
         \PY{k+kn}{import} \PY{n+nn}{json} \PY{c+c1}{\PYZsh{} library to handle JSON files}
         \PY{k+kn}{import} \PY{n+nn}{requests} \PY{c+c1}{\PYZsh{} library to handle requests}
         \PY{k+kn}{from} \PY{n+nn}{pandas}\PY{n+nn}{.}\PY{n+nn}{io}\PY{n+nn}{.}\PY{n+nn}{json} \PY{k}{import} \PY{n}{json\PYZus{}normalize} \PY{c+c1}{\PYZsh{} tranform JSON file into a pandas dataframe}
         \PY{c+c1}{\PYZsh{} Matplotlib and associated plotting modules}
         \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{cm} \PY{k}{as} \PY{n+nn}{cm}
         \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{colors} \PY{k}{as} \PY{n+nn}{colors}
         \PY{c+c1}{\PYZsh{} import k\PYZhy{}means from clustering stage}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{cluster} \PY{k}{import} \PY{n}{KMeans}
         \PY{k+kn}{import} \PY{n+nn}{folium} \PY{c+c1}{\PYZsh{} map rendering library}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}83}]:} \PY{c+c1}{\PYZsh{} define a helpful foursquare looper function}
         \PY{k}{def} \PY{n+nf}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{,} \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{500}\PY{p}{)}\PY{p}{:}
             
             \PY{n}{LIMIT} \PY{o}{=} \PY{l+m+mi}{100}
             \PY{n}{radius} \PY{o}{=} \PY{l+m+mi}{500}
             
             \PY{n}{venues\PYZus{}list}\PY{o}{=}\PY{p}{[}\PY{p}{]}
             
             \PY{n}{print\PYZus{}count} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{name}\PY{p}{,} \PY{n}{lat}\PY{p}{,} \PY{n}{lng} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{)}\PY{p}{:}
                 
                 \PY{k}{if} \PY{n}{print\PYZus{}count} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{5}\PY{p}{:}
                     \PY{n+nb}{print}\PY{p}{(}\PY{n}{name}\PY{p}{,} \PY{n}{end}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                     \PY{n}{print\PYZus{}count} \PY{o}{=} \PY{n}{print\PYZus{}count} \PY{o}{+} \PY{l+m+mi}{1}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n+nb}{print}\PY{p}{(}\PY{n}{name} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                     \PY{n}{print\PYZus{}count} \PY{o}{=} \PY{l+m+mi}{0}
         
                 \PY{c+c1}{\PYZsh{} create the API request URL}
                 \PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
                     \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
                     \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
                     \PY{n}{VERSION}\PY{p}{,} 
                     \PY{n}{lat}\PY{p}{,} 
                     \PY{n}{lng}\PY{p}{,} 
                     \PY{n}{radius}\PY{p}{,} 
                     \PY{n}{LIMIT}\PY{p}{)}
         
                 \PY{c+c1}{\PYZsh{} make the GET request}
                 \PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{response}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
                 \PY{c+c1}{\PYZsh{} return only relevant information for each nearby venue}
                 \PY{n}{venues\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{p}{(}
                     \PY{n}{name}\PY{p}{,} 
                     \PY{n}{lat}\PY{p}{,} 
                     \PY{n}{lng}\PY{p}{,} 
                     \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                     \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                     \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  
                     \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{results}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{nearby\PYZus{}venues} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{venue\PYZus{}list} \PY{o+ow}{in} \PY{n}{venues\PYZus{}list} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{venue\PYZus{}list}\PY{p}{]}\PY{p}{)}
             \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                     
             
             \PY{k}{return}\PY{p}{(}\PY{n}{nearby\PYZus{}venues}\PY{p}{)}
\end{Verbatim}


    

    \section{Data}\label{data}

    For this example, it is assumed that a person grew up in Toronto, then
moved to Manhattan and is now considering a move to either Queens or
Staten Island.

The New York area data comes from the Week 3's lab. I have stored the
Neighborhoods data, which contains neighborhoods with their latitude,
longitude and borough. For Queens and Staten Island, foursquare will
need to be used to gather venue information. I have stored the venues
data table for Manhattan, which already has venues from foursquare.

The Toronto area data source is Week 3's lab content, which has
neighborhood with latitude, longitude and venue.

All of this data will need to be formatted for clustering, including
one-hot formatting and label cleaning.

    \subsection{Familiar Area 1: Toronto
Data}\label{familiar-area-1-toronto-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}84}]:} \PY{c+c1}{\PYZsh{} From week 3 lab}
         \PY{n}{toronto\PYZus{}coordinates\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Geospatial\PYZus{}Coordinates.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{toronto\PYZus{}coordinates\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}84}]:}   Postal Code   Latitude  Longitude
         0         M1B  43.806686 -79.194353
         1         M1C  43.784535 -79.160497
         2         M1E  43.763573 -79.188711
         3         M1G  43.770992 -79.216917
         4         M1H  43.773136 -79.239476
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}85}]:} \PY{c+c1}{\PYZsh{} From week 3 lab}
         \PY{n}{toronto\PYZus{}venues\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{toronto\PYZus{}venues.p}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ The shape of the toronto table is: }\PY{l+s+si}{\PYZob{}toronto\PYZus{}venues\PYZus{}df.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{toronto\PYZus{}venues\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
 The shape of the toronto table is: (2226, 7)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}85}]:}                              Neighborhood  Neighborhood Latitude  \textbackslash{}
         0                          Rouge, Malvern              43.806686   
         1  Highland Creek, Rouge Hill, Port Union              43.784535   
         2  Highland Creek, Rouge Hill, Port Union              43.784535   
         3  Highland Creek, Rouge Hill, Port Union              43.784535   
         4       Guildwood, Morningside, West Hill              43.763573   
         
            Neighborhood Longitude                            Venue  Venue Latitude  \textbackslash{}
         0              -79.194353                          Wendy's       43.807448   
         1              -79.160497            Royal Canadian Legion       43.782533   
         2              -79.160497        Affordable Toronto Movers       43.787919   
         3              -79.160497   Scarborough Historical Society       43.788755   
         4              -79.188711  Swiss Chalet Rotisserie \& Grill       43.767697   
         
            Venue Longitude        Venue Category  
         0       -79.199056  Fast Food Restaurant  
         1       -79.163085                   Bar  
         2       -79.162977         Moving Target  
         3       -79.162438        History Museum  
         4       -79.189914           Pizza Place  
\end{Verbatim}
            
    \subsection{Familiar Area 2: Manhattan
Data}\label{familiar-area-2-manhattan-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}86}]:} \PY{c+c1}{\PYZsh{} From week 3 tutorial}
         \PY{n}{manhattan\PYZus{}venues\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{manhattan\PYZus{}venues.p}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of the manhattan table is: }\PY{l+s+si}{\PYZob{}manhattan\PYZus{}venues\PYZus{}df.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{manhattan\PYZus{}venues\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of the manhattan table is: (3303, 7)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}86}]:}   Neighborhood  Neighborhood Latitude  Neighborhood Longitude          Venue  \textbackslash{}
         0  Marble Hill              40.876551               -73.91066       Arturo's   
         1  Marble Hill              40.876551               -73.91066    Bikram Yoga   
         2  Marble Hill              40.876551               -73.91066  Tibbett Diner   
         3  Marble Hill              40.876551               -73.91066      Starbucks   
         4  Marble Hill              40.876551               -73.91066        Dunkin'   
         
            Venue Latitude  Venue Longitude Venue Category  
         0       40.874412       -73.910271    Pizza Place  
         1       40.876844       -73.906204    Yoga Studio  
         2       40.880404       -73.908937          Diner  
         3       40.877531       -73.905582    Coffee Shop  
         4       40.877136       -73.906666     Donut Shop  
\end{Verbatim}
            
    \subsection{Unfamiliar Place 1: Queens}\label{unfamiliar-place-1-queens}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}87}]:} \PY{n}{all\PYZus{}new\PYZus{}york\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all\PYZus{}new\PYZus{}york\PYZus{}neighborhoods.p}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{queens\PYZus{}df} \PY{o}{=} \PY{n}{all\PYZus{}new\PYZus{}york\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}new\PYZus{}york\PYZus{}df}\PY{o}{.}\PY{n}{Borough} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Queens}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{queens\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}87}]:}     Borough     Neighborhood   Latitude  Longitude
         129  Queens          Astoria  40.768509 -73.915654
         130  Queens         Woodside  40.746349 -73.901842
         131  Queens  Jackson Heights  40.751981 -73.882821
         132  Queens         Elmhurst  40.744049 -73.881656
         133  Queens     Howard Beach  40.654225 -73.838138
\end{Verbatim}
            
    \subsection{Unfamiliar Place 2: Staten
Island}\label{unfamiliar-place-2-staten-island}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}88}]:} \PY{n}{staten\PYZus{}island\PYZus{}df} \PY{o}{=} \PY{n}{all\PYZus{}new\PYZus{}york\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}new\PYZus{}york\PYZus{}df}\PY{o}{.}\PY{n}{Borough} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Staten Island}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{staten\PYZus{}island\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}88}]:}            Borough   Neighborhood   Latitude  Longitude
         197  Staten Island     St. George  40.644982 -74.079353
         198  Staten Island   New Brighton  40.640615 -74.087017
         199  Staten Island      Stapleton  40.626928 -74.077902
         200  Staten Island       Rosebank  40.615305 -74.069805
         201  Staten Island  West Brighton  40.631879 -74.107182
\end{Verbatim}
            
    \subsection{Foursquare Time!}\label{foursquare-time}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}89}]:} \PY{n}{info\PYZus{}file} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{foursquare\PYZus{}info.sec}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{info\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{info\PYZus{}file}\PY{p}{)}
         \PY{n}{CLIENT\PYZus{}ID} \PY{o}{=} \PY{n}{info\PYZus{}df}\PY{o}{.}\PY{n}{ID}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} your Foursquare ID}
         \PY{n}{CLIENT\PYZus{}SECRET} \PY{o}{=} \PY{n}{info\PYZus{}df}\PY{o}{.}\PY{n}{SECRET}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} your Foursquare Secret}
         \PY{n}{VERSION} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{20180605}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} Foursquare API version}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}90}]:} \PY{n}{queens\PYZus{}venues\PYZus{}df} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{queens\PYZus{}df}\PY{o}{.}\PY{n}{Neighborhood}\PY{p}{,} 
                                            \PY{n}{latitudes}\PY{o}{=}\PY{n}{queens\PYZus{}df}\PY{o}{.}\PY{n}{Latitude}\PY{p}{,}
                                            \PY{n}{longitudes}\PY{o}{=}\PY{n}{queens\PYZus{}df}\PY{o}{.}\PY{n}{Longitude}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Astoria, Woodside, Jackson Heights, Elmhurst, Howard Beach, Corona, Forest Hills.
Kew Gardens, Richmond Hill, Flushing, Long Island City, Sunnyside, East Elmhurst, Maspeth.
Ridgewood, Glendale, Rego Park, Woodhaven, Ozone Park, South Ozone Park, College Point.
Whitestone, Bayside, Auburndale, Little Neck, Douglaston, Glen Oaks, Bellerose.
Kew Gardens Hills, Fresh Meadows, Briarwood, Jamaica Center, Oakland Gardens, Queens Village, Hollis.
South Jamaica, St. Albans, Rochdale, Springfield Gardens, Cambria Heights, Rosedale, Far Rockaway.
Broad Channel, Breezy Point, Steinway, Beechhurst, Bay Terrace, Edgemere, Arverne.
Rockaway Beach, Neponsit, Murray Hill, Floral Park, Holliswood, Jamaica Estates, Queensboro Hill.
Hillcrest, Ravenswood, Lindenwood, Laurelton, Lefrak City, Belle Harbor, Rockaway Park.
Somerville, Brookville, Bellaire, North Corona, Forest Hills Gardens, Jamaica Hills, Utopia.
Pomonok, Astoria Heights, Hunters Point, Sunnyside Gardens, Blissville, Roxbury, Middle Village.
Malba, Hammels, Bayswater, Queensbridge, 
    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}91}]:} \PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{staten\PYZus{}island\PYZus{}df}\PY{o}{.}\PY{n}{Neighborhood}\PY{p}{,} 
                                                \PY{n}{latitudes}\PY{o}{=}\PY{n}{staten\PYZus{}island\PYZus{}df}\PY{o}{.}\PY{n}{Latitude}\PY{p}{,}
                                                \PY{n}{longitudes}\PY{o}{=}\PY{n}{staten\PYZus{}island\PYZus{}df}\PY{o}{.}\PY{n}{Longitude}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
St. George, New Brighton, Stapleton, Rosebank, West Brighton, Grymes Hill, Todt Hill.
South Beach, Port Richmond, Mariner's Harbor, Port Ivory, Castleton Corners, New Springville, Travis.
New Dorp, Oakwood, Great Kills, Eltingville, Annadale, Woodrow, Tottenville.
Tompkinsville, Silver Lake, Sunnyside, Park Hill, Westerleigh, Graniteville, Arlington.
Arrochar, Grasmere, Old Town, Dongan Hills, Midland Beach, Grant City, New Dorp Beach.
Bay Terrace, Huguenot, Pleasant Plains, Butler Manor, Charleston, Rossville, Arden Heights.
Greenridge, Heartland Village, Chelsea, Bloomfield, Bulls Head, Richmond Town, Shore Acres.
Clifton, Concord, Emerson Hill, Randall Manor, Howland Hook, Elm Park, Manor Heights.
Willowbrook, Sandy Ground, Egbertville, Prince's Bay, Lighthouse Hill, Richmond Valley, Fox Hills.

    \end{Verbatim}

    \subsection{Confirm venues for new
places}\label{confirm-venues-for-new-places}

Queens and Staten Island now have their venues from foursquare

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}92}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of queens venues df is: }\PY{l+s+si}{\PYZob{}queens\PYZus{}venues\PYZus{}df.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{queens\PYZus{}venues\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of queens venues df is: (2101, 7)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}92}]:}   Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
         0      Astoria              40.768509              -73.915654   
         1      Astoria              40.768509              -73.915654   
         2      Astoria              40.768509              -73.915654   
         3      Astoria              40.768509              -73.915654   
         4      Astoria              40.768509              -73.915654   
         
                         Venue  Venue Latitude  Venue Longitude        Venue Category  
         0        Favela Grill       40.767348       -73.917897  Brazilian Restaurant  
         1      Orange Blossom       40.769856       -73.917012          Gourmet Shop  
         2    Titan Foods Inc.       40.769198       -73.919253          Gourmet Shop  
         3     CrossFit Queens       40.769404       -73.918977                   Gym  
         4  Simply Fit Astoria       40.769114       -73.912403                   Gym  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}159}]:} \PY{n}{queens\PYZus{}venues\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}159}]:} Pizza Place           84
          Deli / Bodega         69
          Chinese Restaurant    67
          Bakery                55
          Donut Shop            55
          Name: Venue Category, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}94}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of staten island venues df is: }\PY{l+s+si}{\PYZob{}staten\PYZus{}island\PYZus{}venues\PYZus{}df.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of staten island venues df is: (840, 7)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}94}]:}   Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
         0   St. George              40.644982              -74.079353   
         1   St. George              40.644982              -74.079353   
         2   St. George              40.644982              -74.079353   
         3   St. George              40.644982              -74.079353   
         4   St. George              40.644982              -74.079353   
         
                                          Venue  Venue Latitude  Venue Longitude  \textbackslash{}
         0                         A\&S Pizzeria       40.643940       -74.077626   
         1                                 Beso       40.643306       -74.076508   
         2        Richmond County Bank Ballpark       40.645056       -74.076864   
         3  Staten Island September 11 Memorial       40.646767       -74.076510   
         4                   Nike Factory Store       40.645753       -74.077702   
         
                 Venue Category  
         0          Pizza Place  
         1     Tapas Restaurant  
         2     Baseball Stadium  
         3  Monument / Landmark  
         4  Sporting Goods Shop  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}160}]:} \PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}160}]:} Pizza Place           55
          Bus Stop              44
          Deli / Bodega         42
          Italian Restaurant    40
          Pharmacy              23
          Name: Venue Category, dtype: int64
\end{Verbatim}
            
    \subsection{Prepare for Clustering}\label{prepare-for-clustering}

Prepare the contents of the four venues dataframes to be in one-hot
format with the top venues

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}96}]:} \PY{c+c1}{\PYZsh{} Some helper functions}
         
         \PY{k}{def} \PY{n+nf}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{venues\PYZus{}df}\PY{p}{)}\PY{p}{:}
             
             \PY{n}{onehot\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{venues\PYZus{}df}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{prefix\PYZus{}sep}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
             \PY{n}{onehot\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{venues\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{fixed\PYZus{}columns} \PY{o}{=} \PY{p}{[}\PY{n}{onehot\PYZus{}df}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n}{onehot\PYZus{}df}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
             \PY{n}{onehot\PYZus{}df} \PY{o}{=} \PY{n}{onehot\PYZus{}df}\PY{p}{[}\PY{n}{fixed\PYZus{}columns}\PY{p}{]}
             
             \PY{n}{grouped\PYZus{}df} \PY{o}{=} \PY{n}{onehot\PYZus{}df}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
             
             \PY{k}{return} \PY{n}{grouped\PYZus{}df}
         
         \PY{k}{def} \PY{n+nf}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{row}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}\PY{p}{:}
             \PY{n}{row\PYZus{}categories} \PY{o}{=} \PY{n}{row}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
             \PY{n}{row\PYZus{}categories\PYZus{}sorted} \PY{o}{=} \PY{n}{row\PYZus{}categories}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
             
             \PY{k}{return} \PY{n}{row\PYZus{}categories\PYZus{}sorted}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}97}]:} \PY{n}{toronto\PYZus{}grouped} \PY{o}{=} \PY{n}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{toronto\PYZus{}venues\PYZus{}df}\PY{p}{)}
         \PY{n}{manhattan\PYZus{}grouped} \PY{o}{=} \PY{n}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{manhattan\PYZus{}venues\PYZus{}df}\PY{p}{)}
         \PY{n}{queens\PYZus{}grouped} \PY{o}{=} \PY{n}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{queens\PYZus{}venues\PYZus{}df}\PY{p}{)}
         \PY{n}{staten\PYZus{}island\PYZus{}grouped} \PY{o}{=} \PY{n}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}98}]:} \PY{c+c1}{\PYZsh{} generate pretty column list for later}
         \PY{n}{num\PYZus{}top\PYZus{}venues} \PY{o}{=} \PY{l+m+mi}{10}
         \PY{n}{indicators} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{st}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}\PY{p}{:}
             \PY{k}{try}\PY{p}{:}
                 \PY{n}{columns}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ Most Common Venue}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{ind}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{indicators}\PY{p}{[}\PY{n}{ind}\PY{p}{]}\PY{p}{)}\PY{p}{)}
             \PY{k}{except}\PY{p}{:}
                 \PY{n}{columns}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{th Most Common Venue}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{ind}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}99}]:} \PY{c+c1}{\PYZsh{} new dfs with pretty columns from above}
         \PY{n}{toronto\PYZus{}hoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
         \PY{n}{toronto\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{toronto\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{manhattan\PYZus{}hoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
         \PY{n}{manhattan\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{manhattan\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{queens\PYZus{}hoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
         \PY{n}{queens\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{queens\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{staten\PYZus{}island\PYZus{}hoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
         \PY{n}{staten\PYZus{}island\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{staten\PYZus{}island\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{} pack these new dfs with their respective most common venues}
         \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{toronto\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
             \PY{n}{toronto\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{toronto\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}
             
         \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{manhattan\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
             \PY{n}{manhattan\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{manhattan\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}
             
         \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{queens\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
             \PY{n}{queens\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{queens\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}
             
         \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{staten\PYZus{}island\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
             \PY{n}{staten\PYZus{}island\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{staten\PYZus{}island\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}
\end{Verbatim}


    \subsection{Final form of raw data,
individual}\label{final-form-of-raw-data-individual}

Top venues for Toronto, Manhattan, Queens, and Staten Island are sorted
by neighborhood

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}100}]:} \PY{n}{toronto\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}100}]:}                                         Neighborhood  \textbackslash{}
          0                           Adelaide, King, Richmond   
          1                                          Agincourt   
          2  Agincourt North, L'Amoreaux East, Milliken, St{\ldots}   
          3  Albion Gardens, Beaumond Heights, Humbergate, {\ldots}   
          4                             Alderwood, Long Branch   
          
                 1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          0                Coffee Shop                  Café                   Bar   
          1  Latin American Restaurant                Lounge          Skating Rink   
          2                       Park                Bakery            Playground   
          3              Grocery Store           Pizza Place   Fried Chicken Joint   
          4                Pizza Place           Coffee Shop                  Pool   
          
            4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          0            Steakhouse       Thai Restaurant            Restaurant   
          1        Breakfast Spot         Women's Store   Dumpling Restaurant   
          2             Drugstore                 Diner        Discount Store   
          3              Pharmacy           Video Store  Fast Food Restaurant   
          4                   Gym          Skating Rink              Pharmacy   
          
            7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          0          Burger Joint                 Hotel      Sushi Restaurant   
          1               Dog Run      Doner Restaurant            Donut Shop   
          2               Dog Run      Doner Restaurant            Donut Shop   
          3            Beer Store        Sandwich Place         Women's Store   
          4                   Pub        Sandwich Place          Dessert Shop   
          
            10th Most Common Venue  
          0       Asian Restaurant  
          1              Drugstore  
          2    Dumpling Restaurant  
          3                Dog Run  
          4     Dim Sum Restaurant  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}101}]:} \PY{n}{manhattan\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}101}]:}         Neighborhood 1st Most Common Venue 2nd Most Common Venue  \textbackslash{}
          0  Battery Park City                  Park           Coffee Shop   
          1      Carnegie Hill           Coffee Shop           Pizza Place   
          2     Central Harlem    Chinese Restaurant    African Restaurant   
          3            Chelsea           Coffee Shop                Bakery   
          4          Chinatown    Chinese Restaurant          Cocktail Bar   
          
            3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \textbackslash{}
          0                 Hotel             Wine Shop         Women's Store   
          1        Cosmetics Shop           Yoga Studio                Bakery   
          2        Cosmetics Shop                   Bar   American Restaurant   
          3        Ice Cream Shop    Italian Restaurant   American Restaurant   
          4   American Restaurant                Bakery     Hotpot Restaurant   
          
            6th Most Common Venue  7th Most Common Venue 8th Most Common Venue  \textbackslash{}
          0                   Gym          Memorial Site         Boat or Ferry   
          1                   Gym              Bookstore         Grocery Store   
          2     French Restaurant     Seafood Restaurant    Salon / Barbershop   
          3                 Hotel              Nightclub               Theater   
          4    Salon / Barbershop  Vietnamese Restaurant          Optical Shop   
          
            9th Most Common Venue 10th Most Common Venue  
          0         Shopping Mall            Pizza Place  
          1   Japanese Restaurant                   Café  
          2      Tapas Restaurant                    Gym  
          3             Bookstore      French Restaurant  
          4                   Spa     Mexican Restaurant  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}102}]:} \PY{n}{queens\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}102}]:}       Neighborhood 1st Most Common Venue      2nd Most Common Venue  \textbackslash{}
          0          Arverne             Surf Spot              Metro Station   
          1          Astoria                   Bar  Middle Eastern Restaurant   
          2  Astoria Heights            Playground                       Food   
          3       Auburndale        Ice Cream Shop                Supermarket   
          4      Bay Terrace        Clothing Store              Women's Store   
          
            3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \textbackslash{}
          0        Sandwich Place            Donut Shop              Bus Stop   
          1            Hookah Bar      Greek Restaurant    Seafood Restaurant   
          2                Hostel           Pizza Place                 Plaza   
          3        Gymnastics Gym    Italian Restaurant     Korean Restaurant   
          4   American Restaurant        Lingerie Store     Mobile Phone Shop   
          
              6th Most Common Venue     7th Most Common Venue 8th Most Common Venue  \textbackslash{}
          0         Thai Restaurant               Coffee Shop            Board Shop   
          1             Pizza Place  Mediterranean Restaurant                Bakery   
          2             Bus Station             Bowling Alley    Italian Restaurant   
          3  Furniture / Home Store        Miscellaneous Shop     Mobile Phone Shop   
          4              Kids Store                Donut Shop        Cosmetics Shop   
          
            9th Most Common Venue 10th Most Common Venue  
          0                 Beach             Playground  
          1        Ice Cream Shop             Bagel Shop  
          2          Burger Joint                 Bakery  
          3  Fast Food Restaurant           Noodle House  
          4           Coffee Shop          Movie Theater  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}103}]:} \PY{n}{staten\PYZus{}island\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}103}]:}     Neighborhood 1st Most Common Venue 2nd Most Common Venue  \textbackslash{}
          0       Annadale           Pizza Place   American Restaurant   
          1  Arden Heights              Pharmacy              Bus Stop   
          2      Arlington              Bus Stop          Intersection   
          3       Arrochar         Deli / Bodega    Italian Restaurant   
          4    Bay Terrace           Supermarket        Shipping Store   
          
            3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \textbackslash{}
          0          Dance Studio            Sports Bar            Restaurant   
          1           Coffee Shop           Pizza Place           Event Space   
          2         Boat or Ferry           Coffee Shop         Deli / Bodega   
          3            Bagel Shop              Bus Stop                 Hotel   
          4      Insurance Office         Train Station      Sushi Restaurant   
          
            6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \textbackslash{}
          0         Train Station                 Diner              Pharmacy   
          1                  Food           Flower Shop     Fish \& Chips Shop   
          2                 Hotel     Electronics Store           Flower Shop   
          3        Sandwich Place            Food Truck     Polish Restaurant   
          4    Salon / Barbershop            Donut Shop     Electronics Store   
          
                 9th Most Common Venue 10th Most Common Venue  
          0                Yoga Studio      Electronics Store  
          1        Filipino Restaurant   Fast Food Restaurant  
          2             Ice Cream Shop      Fish \& Chips Shop  
          3  Middle Eastern Restaurant            Supermarket  
          4                Flower Shop      Fish \& Chips Shop  
\end{Verbatim}
            
    \subsection{Creating combined data}\label{creating-combined-data}

To look at all locations as a whole, we need to repeat the process above
with the combinded dataset

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}104}]:} \PY{c+c1}{\PYZsh{} combine all venue data}
          \PY{n}{all\PYZus{}venues} \PY{o}{=} \PY{p}{[}\PY{n}{toronto\PYZus{}venues\PYZus{}df}\PY{p}{,} \PY{n}{manhattan\PYZus{}venues\PYZus{}df}\PY{p}{,} \PY{n}{queens\PYZus{}venues\PYZus{}df}\PY{p}{,} \PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df}\PY{p}{]}
          \PY{n}{all\PYZus{}venues\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{n}{all\PYZus{}venues}\PY{p}{)}
          \PY{n}{all\PYZus{}venues\PYZus{}df}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}104}]:} (8470, 7)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}105}]:} \PY{n}{all\PYZus{}grouped} \PY{o}{=} \PY{n}{get\PYZus{}grouped\PYZus{}df}\PY{p}{(}\PY{n}{all\PYZus{}venues\PYZus{}df}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of all\PYZus{}grouped\PYZus{}df is }\PY{l+s+si}{\PYZob{}all\PYZus{}grouped.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{all\PYZus{}grouped}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of all\_grouped\_df is (277, 438)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}105}]:}                                         Neighborhood  Yoga Studio  \textbackslash{}
          0                           Adelaide, King, Richmond          0.0   
          1                                          Agincourt          0.0   
          2  Agincourt North, L'Amoreaux East, Milliken, St{\ldots}          0.0   
          3  Albion Gardens, Beaumond Heights, Humbergate, {\ldots}          0.0   
          4                             Alderwood, Long Branch          0.0   
          
             Accessories Store  Adult Boutique  Afghan Restaurant  African Restaurant  \textbackslash{}
          0                0.0             0.0                0.0                 0.0   
          1                0.0             0.0                0.0                 0.0   
          2                0.0             0.0                0.0                 0.0   
          3                0.0             0.0                0.0                 0.0   
          4                0.0             0.0                0.0                 0.0   
          
             Airport  Airport Food Court  Airport Gate  Airport Lounge  Airport Service  \textbackslash{}
          0      0.0                 0.0           0.0             0.0              0.0   
          1      0.0                 0.0           0.0             0.0              0.0   
          2      0.0                 0.0           0.0             0.0              0.0   
          3      0.0                 0.0           0.0             0.0              0.0   
          4      0.0                 0.0           0.0             0.0              0.0   
          
             Airport Terminal  American Restaurant  Antique Shop  Aquarium  Arcade  \textbackslash{}
          0               0.0                 0.02           0.0       0.0     0.0   
          1               0.0                 0.00           0.0       0.0     0.0   
          2               0.0                 0.00           0.0       0.0     0.0   
          3               0.0                 0.00           0.0       0.0     0.0   
          4               0.0                 0.00           0.0       0.0     0.0   
          
             Arepa Restaurant  Argentinian Restaurant  Art Gallery  Art Museum  \textbackslash{}
          0               0.0                     0.0         0.01         0.0   
          1               0.0                     0.0         0.00         0.0   
          2               0.0                     0.0         0.00         0.0   
          3               0.0                     0.0         0.00         0.0   
          4               0.0                     0.0         0.00         0.0   
          
             Arts \& Crafts Store  Arts \& Entertainment  Asian Restaurant  \textbackslash{}
          0                  0.0                   0.0              0.03   
          1                  0.0                   0.0              0.00   
          2                  0.0                   0.0              0.00   
          3                  0.0                   0.0              0.00   
          4                  0.0                   0.0              0.00   
          
             Athletics \& Sports  Auditorium  Australian Restaurant  Austrian Restaurant  \textbackslash{}
          0                 0.0         0.0                    0.0                  0.0   
          1                 0.0         0.0                    0.0                  0.0   
          2                 0.0         0.0                    0.0                  0.0   
          3                 0.0         0.0                    0.0                  0.0   
          4                 0.0         0.0                    0.0                  0.0   
          
             Auto Garage  Auto Workshop  Automotive Shop  BBQ Joint  Baby Store  \textbackslash{}
          0          0.0            0.0              0.0        0.0         0.0   
          1          0.0            0.0              0.0        0.0         0.0   
          2          0.0            0.0              0.0        0.0         0.0   
          3          0.0            0.0              0.0        0.0         0.0   
          4          0.0            0.0              0.0        0.0         0.0   
          
             Bagel Shop    Bakery  Bank   Bar  Baseball Field  Baseball Stadium  \textbackslash{}
          0         0.0  0.020000   0.0  0.04             0.0               0.0   
          1         0.0  0.000000   0.0  0.00             0.0               0.0   
          2         0.0  0.333333   0.0  0.00             0.0               0.0   
          3         0.0  0.000000   0.0  0.00             0.0               0.0   
          4         0.0  0.000000   0.0  0.00             0.0               0.0   
          
             Basketball Court  Basketball Stadium  Bath House  Beach  Beach Bar  \textbackslash{}
          0               0.0                 0.0         0.0    0.0        0.0   
          1               0.0                 0.0         0.0    0.0        0.0   
          2               0.0                 0.0         0.0    0.0        0.0   
          3               0.0                 0.0         0.0    0.0        0.0   
          4               0.0                 0.0         0.0    0.0        0.0   
          
             Bed \& Breakfast  Beer Bar  Beer Garden  Beer Store  Belgian Restaurant  \textbackslash{}
          0              0.0       0.0          0.0         0.0                 0.0   
          1              0.0       0.0          0.0         0.0                 0.0   
          2              0.0       0.0          0.0         0.0                 0.0   
          3              0.0       0.0          0.0         0.1                 0.0   
          4              0.0       0.0          0.0         0.0                 0.0   
          
             Big Box Store  Bike Rental / Bike Share  Bike Shop  Bike Trail  Bistro  \textbackslash{}
          0            0.0                       0.0        0.0         0.0     0.0   
          1            0.0                       0.0        0.0         0.0     0.0   
          2            0.0                       0.0        0.0         0.0     0.0   
          3            0.0                       0.0        0.0         0.0     0.0   
          4            0.0                       0.0        0.0         0.0     0.0   
          
             Board Shop  Boat or Ferry  Bookstore  Boutique  Bowling Alley  Boxing Gym  \textbackslash{}
          0         0.0            0.0       0.01       0.0            0.0         0.0   
          1         0.0            0.0       0.00       0.0            0.0         0.0   
          2         0.0            0.0       0.00       0.0            0.0         0.0   
          3         0.0            0.0       0.00       0.0            0.0         0.0   
          4         0.0            0.0       0.00       0.0            0.0         0.0   
          
             Brazilian Restaurant  Breakfast Spot  Brewery  Bridal Shop  Bridge  \textbackslash{}
          0                  0.01            0.02      0.0          0.0     0.0   
          1                  0.00            0.25      0.0          0.0     0.0   
          2                  0.00            0.00      0.0          0.0     0.0   
          3                  0.00            0.00      0.0          0.0     0.0   
          4                  0.00            0.00      0.0          0.0     0.0   
          
             Bubble Tea Shop  Buffet  Building  Burger Joint  Burrito Place  Bus Line  \textbackslash{}
          0              0.0     0.0      0.01          0.03           0.01       0.0   
          1              0.0     0.0      0.00          0.00           0.00       0.0   
          2              0.0     0.0      0.00          0.00           0.00       0.0   
          3              0.0     0.0      0.00          0.00           0.00       0.0   
          4              0.0     0.0      0.00          0.00           0.00       0.0   
          
             Bus Station  Bus Stop  Business Service  Butcher  Cafeteria  Café  \textbackslash{}
          0          0.0       0.0               0.0      0.0        0.0  0.04   
          1          0.0       0.0               0.0      0.0        0.0  0.00   
          2          0.0       0.0               0.0      0.0        0.0  0.00   
          3          0.0       0.0               0.0      0.0        0.0  0.00   
          4          0.0       0.0               0.0      0.0        0.0  0.00   
          
             Cajun / Creole Restaurant  Cambodian Restaurant  Camera Store  Campground  \textbackslash{}
          0                        0.0                   0.0           0.0         0.0   
          1                        0.0                   0.0           0.0         0.0   
          2                        0.0                   0.0           0.0         0.0   
          3                        0.0                   0.0           0.0         0.0   
          4                        0.0                   0.0           0.0         0.0   
          
             Candy Store  Cantonese Restaurant  Caribbean Restaurant  \textbackslash{}
          0          0.0                   0.0                   0.0   
          1          0.0                   0.0                   0.0   
          2          0.0                   0.0                   0.0   
          3          0.0                   0.0                   0.0   
          4          0.0                   0.0                   0.0   
          
             Caucasian Restaurant  Check Cashing Service  Cheese Shop  \textbackslash{}
          0                   0.0                    0.0          0.0   
          1                   0.0                    0.0          0.0   
          2                   0.0                    0.0          0.0   
          3                   0.0                    0.0          0.0   
          4                   0.0                    0.0          0.0   
          
             Chinese Restaurant  Chocolate Shop  Christmas Market  Church  Circus  \textbackslash{}
          0                 0.0             0.0               0.0     0.0     0.0   
          1                 0.0             0.0               0.0     0.0     0.0   
          2                 0.0             0.0               0.0     0.0     0.0   
          3                 0.0             0.0               0.0     0.0     0.0   
          4                 0.0             0.0               0.0     0.0     0.0   
          
             Climbing Gym  Clothing Store  Club House  Cocktail Bar  Coffee Shop  \textbackslash{}
          0           0.0            0.01         0.0           0.0     0.080000   
          1           0.0            0.00         0.0           0.0     0.000000   
          2           0.0            0.00         0.0           0.0     0.000000   
          3           0.0            0.00         0.0           0.0     0.000000   
          4           0.0            0.00         0.0           0.0     0.111111   
          
             College Academic Building  College Arts Building  College Auditorium  \textbackslash{}
          0                        0.0                    0.0                 0.0   
          1                        0.0                    0.0                 0.0   
          2                        0.0                    0.0                 0.0   
          3                        0.0                    0.0                 0.0   
          4                        0.0                    0.0                 0.0   
          
             College Basketball Court  College Bookstore  College Cafeteria  \textbackslash{}
          0                       0.0                0.0                0.0   
          1                       0.0                0.0                0.0   
          2                       0.0                0.0                0.0   
          3                       0.0                0.0                0.0   
          4                       0.0                0.0                0.0   
          
             College Gym  College Rec Center  College Stadium  College Theater  \textbackslash{}
          0          0.0                 0.0              0.0              0.0   
          1          0.0                 0.0              0.0              0.0   
          2          0.0                 0.0              0.0              0.0   
          3          0.0                 0.0              0.0              0.0   
          4          0.0                 0.0              0.0              0.0   
          
             Colombian Restaurant  Comedy Club  Comfort Food Restaurant  Comic Shop  \textbackslash{}
          0                  0.01          0.0                      0.0         0.0   
          1                  0.00          0.0                      0.0         0.0   
          2                  0.00          0.0                      0.0         0.0   
          3                  0.00          0.0                      0.0         0.0   
          4                  0.00          0.0                      0.0         0.0   
          
             Community Center  Concert Hall  Construction \& Landscaping  \textbackslash{}
          0               0.0          0.02                         0.0   
          1               0.0          0.00                         0.0   
          2               0.0          0.00                         0.0   
          3               0.0          0.00                         0.0   
          4               0.0          0.00                         0.0   
          
             Convenience Store  Cooking School  Cosmetics Shop  Coworking Space  \textbackslash{}
          0                0.0             0.0            0.02              0.0   
          1                0.0             0.0            0.00              0.0   
          2                0.0             0.0            0.00              0.0   
          3                0.0             0.0            0.00              0.0   
          4                0.0             0.0            0.00              0.0   
          
             Creperie  Cuban Restaurant  Cultural Center  Cupcake Shop  Curling Ice  \textbackslash{}
          0       0.0               0.0              0.0          0.01          0.0   
          1       0.0               0.0              0.0          0.00          0.0   
          2       0.0               0.0              0.0          0.00          0.0   
          3       0.0               0.0              0.0          0.00          0.0   
          4       0.0               0.0              0.0          0.00          0.0   
          
             Cycle Studio  Czech Restaurant  Dance Studio  Daycare  Deli / Bodega  \textbackslash{}
          0           0.0               0.0           0.0      0.0           0.01   
          1           0.0               0.0           0.0      0.0           0.00   
          2           0.0               0.0           0.0      0.0           0.00   
          3           0.0               0.0           0.0      0.0           0.00   
          4           0.0               0.0           0.0      0.0           0.00   
          
             Department Store  Design Studio  Dessert Shop  Dim Sum Restaurant  Diner  \textbackslash{}
          0              0.01            0.0           0.0                 0.0    0.0   
          1              0.00            0.0           0.0                 0.0    0.0   
          2              0.00            0.0           0.0                 0.0    0.0   
          3              0.00            0.0           0.0                 0.0    0.0   
          4              0.00            0.0           0.0                 0.0    0.0   
          
             Discount Store  Dive Bar  Doctor's Office  Dog Run  Doner Restaurant  \textbackslash{}
          0             0.0       0.0              0.0      0.0               0.0   
          1             0.0       0.0              0.0      0.0               0.0   
          2             0.0       0.0              0.0      0.0               0.0   
          3             0.0       0.0              0.0      0.0               0.0   
          4             0.0       0.0              0.0      0.0               0.0   
          
             Donut Shop  Dosa Place  Drugstore  Dry Cleaner  Dumpling Restaurant  \textbackslash{}
          0         0.0         0.0        0.0          0.0                  0.0   
          1         0.0         0.0        0.0          0.0                  0.0   
          2         0.0         0.0        0.0          0.0                  0.0   
          3         0.0         0.0        0.0          0.0                  0.0   
          4         0.0         0.0        0.0          0.0                  0.0   
          
             Duty-free Shop  Eastern European Restaurant  Egyptian Restaurant  \textbackslash{}
          0             0.0                          0.0                  0.0   
          1             0.0                          0.0                  0.0   
          2             0.0                          0.0                  0.0   
          3             0.0                          0.0                  0.0   
          4             0.0                          0.0                  0.0   
          
             Electronics Store  Empanada Restaurant  English Restaurant  \textbackslash{}
          0               0.01                  0.0                 0.0   
          1               0.00                  0.0                 0.0   
          2               0.00                  0.0                 0.0   
          3               0.00                  0.0                 0.0   
          4               0.00                  0.0                 0.0   
          
             Ethiopian Restaurant  Event Space  Exhibit  Falafel Restaurant  Farm  \textbackslash{}
          0                   0.0          0.0      0.0                 0.0   0.0   
          1                   0.0          0.0      0.0                 0.0   0.0   
          2                   0.0          0.0      0.0                 0.0   0.0   
          3                   0.0          0.0      0.0                 0.0   0.0   
          4                   0.0          0.0      0.0                 0.0   0.0   
          
             Farmers Market  Fast Food Restaurant  Festival  Field  Filipino Restaurant  \textbackslash{}
          0             0.0                   0.0       0.0    0.0                  0.0   
          1             0.0                   0.0       0.0    0.0                  0.0   
          2             0.0                   0.0       0.0    0.0                  0.0   
          3             0.0                   0.1       0.0    0.0                  0.0   
          4             0.0                   0.0       0.0    0.0                  0.0   
          
             Financial or Legal Service  Fish \& Chips Shop  Fish Market  Flea Market  \textbackslash{}
          0                         0.0                0.0          0.0          0.0   
          1                         0.0                0.0          0.0          0.0   
          2                         0.0                0.0          0.0          0.0   
          3                         0.0                0.0          0.0          0.0   
          4                         0.0                0.0          0.0          0.0   
          
             Flower Shop  Food  Food \& Drink Shop  Food Court  Food Stand  Food Truck  \textbackslash{}
          0          0.0   0.0                0.0        0.01         0.0         0.0   
          1          0.0   0.0                0.0        0.00         0.0         0.0   
          2          0.0   0.0                0.0        0.00         0.0         0.0   
          3          0.0   0.0                0.0        0.00         0.0         0.0   
          4          0.0   0.0                0.0        0.00         0.0         0.0   
          
             Fountain  French Restaurant  Fried Chicken Joint  Frozen Yogurt Shop  \textbackslash{}
          0       0.0                0.0                  0.0                 0.0   
          1       0.0                0.0                  0.0                 0.0   
          2       0.0                0.0                  0.0                 0.0   
          3       0.0                0.0                  0.1                 0.0   
          4       0.0                0.0                  0.0                 0.0   
          
             Fruit \& Vegetable Store  Furniture / Home Store  Gaming Cafe  Garden  \textbackslash{}
          0                      0.0                     0.0          0.0     0.0   
          1                      0.0                     0.0          0.0     0.0   
          2                      0.0                     0.0          0.0     0.0   
          3                      0.0                     0.0          0.0     0.0   
          4                      0.0                     0.0          0.0     0.0   
          
             Garden Center  Gas Station  Gastropub  Gay Bar  General Entertainment  \textbackslash{}
          0            0.0          0.0       0.02      0.0                    0.0   
          1            0.0          0.0       0.00      0.0                    0.0   
          2            0.0          0.0       0.00      0.0                    0.0   
          3            0.0          0.0       0.00      0.0                    0.0   
          4            0.0          0.0       0.00      0.0                    0.0   
          
             General Travel  German Restaurant  Gift Shop  Gluten-free Restaurant  \textbackslash{}
          0            0.01                0.0        0.0                    0.01   
          1            0.00                0.0        0.0                    0.00   
          2            0.00                0.0        0.0                    0.00   
          3            0.00                0.0        0.0                    0.00   
          4            0.00                0.0        0.0                    0.00   
          
             Golf Course  Gourmet Shop  Greek Restaurant  Grocery Store       Gym  \textbackslash{}
          0          0.0           0.0              0.01            0.0  0.020000   
          1          0.0           0.0              0.00            0.0  0.000000   
          2          0.0           0.0              0.00            0.0  0.000000   
          3          0.0           0.0              0.00            0.2  0.000000   
          4          0.0           0.0              0.00            0.0  0.111111   
          
             Gym / Fitness Center  Gym Pool  Gymnastics Gym  Hakka Restaurant  \textbackslash{}
          0                  0.01       0.0             0.0               0.0   
          1                  0.00       0.0             0.0               0.0   
          2                  0.00       0.0             0.0               0.0   
          3                  0.00       0.0             0.0               0.0   
          4                  0.00       0.0             0.0               0.0   
          
             Halal Restaurant  Harbor / Marina  Hardware Store  Hawaiian Restaurant  \textbackslash{}
          0               0.0              0.0             0.0                  0.0   
          1               0.0              0.0             0.0                  0.0   
          2               0.0              0.0             0.0                  0.0   
          3               0.0              0.0             0.0                  0.0   
          4               0.0              0.0             0.0                  0.0   
          
             Health \& Beauty Service  Health Food Store  Heliport  High School  \textbackslash{}
          0                      0.0                0.0       0.0          0.0   
          1                      0.0                0.0       0.0          0.0   
          2                      0.0                0.0       0.0          0.0   
          3                      0.0                0.0       0.0          0.0   
          4                      0.0                0.0       0.0          0.0   
          
             Himalayan Restaurant  Historic Site  History Museum  Hobby Shop  \textbackslash{}
          0                   0.0            0.0             0.0         0.0   
          1                   0.0            0.0             0.0         0.0   
          2                   0.0            0.0             0.0         0.0   
          3                   0.0            0.0             0.0         0.0   
          4                   0.0            0.0             0.0         0.0   
          
             Hockey Arena  Home Service  Hookah Bar  Hospital  Hostel  Hot Dog Joint  \textbackslash{}
          0           0.0           0.0         0.0       0.0     0.0            0.0   
          1           0.0           0.0         0.0       0.0     0.0            0.0   
          2           0.0           0.0         0.0       0.0     0.0            0.0   
          3           0.0           0.0         0.0       0.0     0.0            0.0   
          4           0.0           0.0         0.0       0.0     0.0            0.0   
          
             Hotel  Hotel Bar  Hotpot Restaurant  Hunan Restaurant  IT Services  \textbackslash{}
          0   0.03        0.0                0.0               0.0          0.0   
          1   0.00        0.0                0.0               0.0          0.0   
          2   0.00        0.0                0.0               0.0          0.0   
          3   0.00        0.0                0.0               0.0          0.0   
          4   0.00        0.0                0.0               0.0          0.0   
          
             Ice Cream Shop  Indian Restaurant  Indie Movie Theater  Indie Theater  \textbackslash{}
          0            0.01               0.01                  0.0            0.0   
          1            0.00               0.00                  0.0            0.0   
          2            0.00               0.00                  0.0            0.0   
          3            0.00               0.00                  0.0            0.0   
          4            0.00               0.00                  0.0            0.0   
          
             Indonesian Restaurant  Insurance Office  Intersection  Irish Pub  \textbackslash{}
          0                    0.0               0.0           0.0        0.0   
          1                    0.0               0.0           0.0        0.0   
          2                    0.0               0.0           0.0        0.0   
          3                    0.0               0.0           0.0        0.0   
          4                    0.0               0.0           0.0        0.0   
          
             Israeli Restaurant  Italian Restaurant  Japanese Curry Restaurant  \textbackslash{}
          0                 0.0                 0.0                        0.0   
          1                 0.0                 0.0                        0.0   
          2                 0.0                 0.0                        0.0   
          3                 0.0                 0.0                        0.0   
          4                 0.0                 0.0                        0.0   
          
             Japanese Restaurant  Jazz Club  Jewelry Store  Jewish Restaurant  \textbackslash{}
          0                 0.01       0.01            0.0                0.0   
          1                 0.00       0.00            0.0                0.0   
          2                 0.00       0.00            0.0                0.0   
          3                 0.00       0.00            0.0                0.0   
          4                 0.00       0.00            0.0                0.0   
          
             Juice Bar  Karaoke Bar  Kebab Restaurant  Kids Store  Korean Restaurant  \textbackslash{}
          0        0.0          0.0               0.0         0.0                0.0   
          1        0.0          0.0               0.0         0.0                0.0   
          2        0.0          0.0               0.0         0.0                0.0   
          3        0.0          0.0               0.0         0.0                0.0   
          4        0.0          0.0               0.0         0.0                0.0   
          
             Kosher Restaurant  Lake  Latin American Restaurant  Laundromat  \textbackslash{}
          0                0.0   0.0                       0.01         0.0   
          1                0.0   0.0                       0.25         0.0   
          2                0.0   0.0                       0.00         0.0   
          3                0.0   0.0                       0.00         0.0   
          4                0.0   0.0                       0.00         0.0   
          
             Laundry Service  Lawyer  Leather Goods Store  Lebanese Restaurant  Library  \textbackslash{}
          0              0.0     0.0                  0.0                  0.0      0.0   
          1              0.0     0.0                  0.0                  0.0      0.0   
          2              0.0     0.0                  0.0                  0.0      0.0   
          3              0.0     0.0                  0.0                  0.0      0.0   
          4              0.0     0.0                  0.0                  0.0      0.0   
          
             Light Rail Station  Lingerie Store  Liquor Store  Locksmith  Lounge  \textbackslash{}
          0                 0.0            0.01           0.0        0.0    0.02   
          1                 0.0            0.00           0.0        0.0    0.25   
          2                 0.0            0.00           0.0        0.0    0.00   
          3                 0.0            0.00           0.0        0.0    0.00   
          4                 0.0            0.00           0.0        0.0    0.00   
          
             Malay Restaurant  Market  Martial Arts Dojo  Massage Studio  \textbackslash{}
          0               0.0     0.0                0.0             0.0   
          1               0.0     0.0                0.0             0.0   
          2               0.0     0.0                0.0             0.0   
          3               0.0     0.0                0.0             0.0   
          4               0.0     0.0                0.0             0.0   
          
             Mattress Store  Medical Center  Mediterranean Restaurant  Memorial Site  \textbackslash{}
          0             0.0             0.0                      0.01            0.0   
          1             0.0             0.0                      0.00            0.0   
          2             0.0             0.0                      0.00            0.0   
          3             0.0             0.0                      0.00            0.0   
          4             0.0             0.0                      0.00            0.0   
          
             Men's Store  Metro Station  Mexican Restaurant  Middle Eastern Restaurant  \textbackslash{}
          0          0.0            0.0                 0.0                        0.0   
          1          0.0            0.0                 0.0                        0.0   
          2          0.0            0.0                 0.0                        0.0   
          3          0.0            0.0                 0.0                        0.0   
          4          0.0            0.0                 0.0                        0.0   
          
             Mini Golf  Miscellaneous Shop  Mobile Phone Shop  \textbackslash{}
          0        0.0                 0.0                0.0   
          1        0.0                 0.0                0.0   
          2        0.0                 0.0                0.0   
          3        0.0                 0.0                0.0   
          4        0.0                 0.0                0.0   
          
             Modern European Restaurant  Molecular Gastronomy Restaurant  \textbackslash{}
          0                         0.0                              0.0   
          1                         0.0                              0.0   
          2                         0.0                              0.0   
          3                         0.0                              0.0   
          4                         0.0                              0.0   
          
             Monument / Landmark  Moroccan Restaurant  Motel  Motorcycle Shop  \textbackslash{}
          0                 0.01                  0.0    0.0              0.0   
          1                 0.00                  0.0    0.0              0.0   
          2                 0.00                  0.0    0.0              0.0   
          3                 0.00                  0.0    0.0              0.0   
          4                 0.00                  0.0    0.0              0.0   
          
             Movie Theater  Moving Target  Multiplex  Museum  Music School  Music Store  \textbackslash{}
          0            0.0            0.0        0.0     0.0           0.0          0.0   
          1            0.0            0.0        0.0     0.0           0.0          0.0   
          2            0.0            0.0        0.0     0.0           0.0          0.0   
          3            0.0            0.0        0.0     0.0           0.0          0.0   
          4            0.0            0.0        0.0     0.0           0.0          0.0   
          
             Music Venue  Nail Salon  New American Restaurant  Newsstand  Nightclub  \textbackslash{}
          0          0.0         0.0                     0.01        0.0       0.01   
          1          0.0         0.0                     0.00        0.0       0.00   
          2          0.0         0.0                     0.00        0.0       0.00   
          3          0.0         0.0                     0.00        0.0       0.00   
          4          0.0         0.0                     0.00        0.0       0.00   
          
             Non-Profit  Noodle House  Office  Opera House  Optical Shop  \textbackslash{}
          0         0.0          0.01    0.01         0.01           0.0   
          1         0.0          0.00    0.00         0.00           0.0   
          2         0.0          0.00    0.00         0.00           0.0   
          3         0.0          0.00    0.00         0.00           0.0   
          4         0.0          0.00    0.00         0.00           0.0   
          
             Organic Grocery  Other Great Outdoors  Other Nightlife  Outdoor Sculpture  \textbackslash{}
          0              0.0                   0.0              0.0                0.0   
          1              0.0                   0.0              0.0                0.0   
          2              0.0                   0.0              0.0                0.0   
          3              0.0                   0.0              0.0                0.0   
          4              0.0                   0.0              0.0                0.0   
          
             Outdoor Supply Store  Outdoors \& Recreation  Outlet Mall  \textbackslash{}
          0                   0.0                    0.0          0.0   
          1                   0.0                    0.0          0.0   
          2                   0.0                    0.0          0.0   
          3                   0.0                    0.0          0.0   
          4                   0.0                    0.0          0.0   
          
             Paella Restaurant  Pakistani Restaurant  Paper / Office Supplies Store  \textbackslash{}
          0                0.0                   0.0                            0.0   
          1                0.0                   0.0                            0.0   
          2                0.0                   0.0                            0.0   
          3                0.0                   0.0                            0.0   
          4                0.0                   0.0                            0.0   
          
                 Park  Pedestrian Plaza  Performing Arts Venue  Persian Restaurant  \textbackslash{}
          0  0.000000               0.0                    0.0                 0.0   
          1  0.000000               0.0                    0.0                 0.0   
          2  0.333333               0.0                    0.0                 0.0   
          3  0.000000               0.0                    0.0                 0.0   
          4  0.000000               0.0                    0.0                 0.0   
          
             Peruvian Restaurant  Pet Café  Pet Service  Pet Store  Pharmacy  \textbackslash{}
          0                  0.0       0.0          0.0        0.0  0.000000   
          1                  0.0       0.0          0.0        0.0  0.000000   
          2                  0.0       0.0          0.0        0.0  0.000000   
          3                  0.0       0.0          0.0        0.0  0.100000   
          4                  0.0       0.0          0.0        0.0  0.111111   
          
             Photography Studio  Physical Therapist  Piano Bar  Pie Shop  Pier  \textbackslash{}
          0                 0.0                 0.0        0.0       0.0   0.0   
          1                 0.0                 0.0        0.0       0.0   0.0   
          2                 0.0                 0.0        0.0       0.0   0.0   
          3                 0.0                 0.0        0.0       0.0   0.0   
          4                 0.0                 0.0        0.0       0.0   0.0   
          
             Pilates Studio  Pizza Place  Plane  Platform  Playground  Plaza  \textbackslash{}
          0             0.0     0.020000    0.0       0.0    0.000000   0.01   
          1             0.0     0.000000    0.0       0.0    0.000000   0.00   
          2             0.0     0.000000    0.0       0.0    0.333333   0.00   
          3             0.0     0.200000    0.0       0.0    0.000000   0.00   
          4             0.0     0.222222    0.0       0.0    0.000000   0.00   
          
             Poke Place  Polish Restaurant      Pool  Pool Hall  Portuguese Restaurant  \textbackslash{}
          0         0.0                0.0  0.000000        0.0                    0.0   
          1         0.0                0.0  0.000000        0.0                    0.0   
          2         0.0                0.0  0.000000        0.0                    0.0   
          3         0.0                0.0  0.000000        0.0                    0.0   
          4         0.0                0.0  0.111111        0.0                    0.0   
          
             Post Office  Poutine Place       Pub  Public Art  Racetrack  \textbackslash{}
          0          0.0            0.0  0.000000         0.0        0.0   
          1          0.0            0.0  0.000000         0.0        0.0   
          2          0.0            0.0  0.000000         0.0        0.0   
          3          0.0            0.0  0.000000         0.0        0.0   
          4          0.0            0.0  0.111111         0.0        0.0   
          
             Ramen Restaurant  Record Shop  Recording Studio  Recreation Center  \textbackslash{}
          0              0.01         0.01               0.0                0.0   
          1              0.00         0.00               0.0                0.0   
          2              0.00         0.00               0.0                0.0   
          3              0.00         0.00               0.0                0.0   
          4              0.00         0.00               0.0                0.0   
          
             Rental Car Location  Rental Service  \textbackslash{}
          0                  0.0             0.0   
          1                  0.0             0.0   
          2                  0.0             0.0   
          3                  0.0             0.0   
          4                  0.0             0.0   
          
             Residential Building (Apartment / Condo)  Resort  Rest Area  Restaurant  \textbackslash{}
          0                                       0.0     0.0        0.0        0.03   
          1                                       0.0     0.0        0.0        0.00   
          2                                       0.0     0.0        0.0        0.00   
          3                                       0.0     0.0        0.0        0.00   
          4                                       0.0     0.0        0.0        0.00   
          
             River  Rock Climbing Spot  Rock Club  Romanian Restaurant  Roof Deck  \textbackslash{}
          0    0.0                 0.0        0.0                  0.0        0.0   
          1    0.0                 0.0        0.0                  0.0        0.0   
          2    0.0                 0.0        0.0                  0.0        0.0   
          3    0.0                 0.0        0.0                  0.0        0.0   
          4    0.0                 0.0        0.0                  0.0        0.0   
          
             Russian Restaurant  Sake Bar  Salad Place  Salon / Barbershop  \textbackslash{}
          0                 0.0       0.0         0.01                0.01   
          1                 0.0       0.0         0.00                0.00   
          2                 0.0       0.0         0.00                0.00   
          3                 0.0       0.0         0.00                0.00   
          4                 0.0       0.0         0.00                0.00   
          
             Sandwich Place  Scandinavian Restaurant  Scenic Lookout  School  \textbackslash{}
          0        0.000000                      0.0             0.0     0.0   
          1        0.000000                      0.0             0.0     0.0   
          2        0.000000                      0.0             0.0     0.0   
          3        0.100000                      0.0             0.0     0.0   
          4        0.111111                      0.0             0.0     0.0   
          
             Sculpture Garden  Seafood Restaurant  Shanghai Restaurant  Shipping Store  \textbackslash{}
          0               0.0                0.01                  0.0             0.0   
          1               0.0                0.00                  0.0             0.0   
          2               0.0                0.00                  0.0             0.0   
          3               0.0                0.00                  0.0             0.0   
          4               0.0                0.00                  0.0             0.0   
          
             Shoe Store  Shop \& Service  Shopping Mall  Skate Park  Skating Rink  \textbackslash{}
          0         0.0             0.0           0.01         0.0      0.000000   
          1         0.0             0.0           0.00         0.0      0.250000   
          2         0.0             0.0           0.00         0.0      0.000000   
          3         0.0             0.0           0.00         0.0      0.000000   
          4         0.0             0.0           0.00         0.0      0.111111   
          
             Ski Shop  Smoke Shop  Smoothie Shop  Snack Place  Soba Restaurant  \textbackslash{}
          0       0.0        0.01            0.0          0.0              0.0   
          1       0.0        0.00            0.0          0.0              0.0   
          2       0.0        0.00            0.0          0.0              0.0   
          3       0.0        0.00            0.0          0.0              0.0   
          4       0.0        0.00            0.0          0.0              0.0   
          
             Soccer Field  Social Club  Soup Place  South American Restaurant  \textbackslash{}
          0           0.0          0.0         0.0                        0.0   
          1           0.0          0.0         0.0                        0.0   
          2           0.0          0.0         0.0                        0.0   
          3           0.0          0.0         0.0                        0.0   
          4           0.0          0.0         0.0                        0.0   
          
             South Indian Restaurant  Southern / Soul Food Restaurant  Souvlaki Shop  \textbackslash{}
          0                      0.0                              0.0            0.0   
          1                      0.0                              0.0            0.0   
          2                      0.0                              0.0            0.0   
          3                      0.0                              0.0            0.0   
          4                      0.0                              0.0            0.0   
          
             Spa  Spanish Restaurant  Speakeasy  Spiritual Center  Sporting Goods Shop  \textbackslash{}
          0  0.0                 0.0       0.01               0.0                  0.0   
          1  0.0                 0.0       0.00               0.0                  0.0   
          2  0.0                 0.0       0.00               0.0                  0.0   
          3  0.0                 0.0       0.00               0.0                  0.0   
          4  0.0                 0.0       0.00               0.0                  0.0   
          
             Sports Bar  Sports Club  Sri Lankan Restaurant  Stables  Stadium  \textbackslash{}
          0         0.0          0.0                    0.0      0.0      0.0   
          1         0.0          0.0                    0.0      0.0      0.0   
          2         0.0          0.0                    0.0      0.0      0.0   
          3         0.0          0.0                    0.0      0.0      0.0   
          4         0.0          0.0                    0.0      0.0      0.0   
          
             State / Provincial Park  Stationery Store  Steakhouse  Storage Facility  \textbackslash{}
          0                      0.0               0.0        0.04               0.0   
          1                      0.0               0.0        0.00               0.0   
          2                      0.0               0.0        0.00               0.0   
          3                      0.0               0.0        0.00               0.0   
          4                      0.0               0.0        0.00               0.0   
          
             Street Art  Strip Club  Supermarket  Supplement Shop  Surf Spot  \textbackslash{}
          0         0.0         0.0          0.0              0.0        0.0   
          1         0.0         0.0          0.0              0.0        0.0   
          2         0.0         0.0          0.0              0.0        0.0   
          3         0.0         0.0          0.0              0.0        0.0   
          4         0.0         0.0          0.0              0.0        0.0   
          
             Sushi Restaurant  Swim School  Swiss Restaurant  Szechuan Restaurant  \textbackslash{}
          0              0.03          0.0               0.0                  0.0   
          1              0.00          0.0               0.0                  0.0   
          2              0.00          0.0               0.0                  0.0   
          3              0.00          0.0               0.0                  0.0   
          4              0.00          0.0               0.0                  0.0   
          
             Taco Place  Tailor Shop  Taiwanese Restaurant  Tanning Salon  \textbackslash{}
          0         0.0          0.0                   0.0            0.0   
          1         0.0          0.0                   0.0            0.0   
          2         0.0          0.0                   0.0            0.0   
          3         0.0          0.0                   0.0            0.0   
          4         0.0          0.0                   0.0            0.0   
          
             Tapas Restaurant  Tattoo Parlor  Tea Room  Tennis Court  Tennis Stadium  \textbackslash{}
          0               0.0            0.0       0.0           0.0             0.0   
          1               0.0            0.0       0.0           0.0             0.0   
          2               0.0            0.0       0.0           0.0             0.0   
          3               0.0            0.0       0.0           0.0             0.0   
          4               0.0            0.0       0.0           0.0             0.0   
          
             Tex-Mex Restaurant  Thai Restaurant  Theater  Theme Park  \textbackslash{}
          0                 0.0             0.03     0.01         0.0   
          1                 0.0             0.00     0.00         0.0   
          2                 0.0             0.00     0.00         0.0   
          3                 0.0             0.00     0.00         0.0   
          4                 0.0             0.00     0.00         0.0   
          
             Theme Park Ride / Attraction  Theme Restaurant  Thrift / Vintage Store  \textbackslash{}
          0                           0.0               0.0                     0.0   
          1                           0.0               0.0                     0.0   
          2                           0.0               0.0                     0.0   
          3                           0.0               0.0                     0.0   
          4                           0.0               0.0                     0.0   
          
             Tibetan Restaurant  Tiki Bar  Toll Plaza  Tourist Information Center  \textbackslash{}
          0                 0.0       0.0         0.0                         0.0   
          1                 0.0       0.0         0.0                         0.0   
          2                 0.0       0.0         0.0                         0.0   
          3                 0.0       0.0         0.0                         0.0   
          4                 0.0       0.0         0.0                         0.0   
          
             Toy / Game Store  Trail  Train  Train Station  Tree  Turkish Restaurant  \textbackslash{}
          0               0.0    0.0    0.0            0.0   0.0                 0.0   
          1               0.0    0.0    0.0            0.0   0.0                 0.0   
          2               0.0    0.0    0.0            0.0   0.0                 0.0   
          3               0.0    0.0    0.0            0.0   0.0                 0.0   
          4               0.0    0.0    0.0            0.0   0.0                 0.0   
          
             Udon Restaurant  Used Bookstore  Vegetarian / Vegan Restaurant  \textbackslash{}
          0              0.0             0.0                           0.02   
          1              0.0             0.0                           0.00   
          2              0.0             0.0                           0.00   
          3              0.0             0.0                           0.00   
          4              0.0             0.0                           0.00   
          
             Venezuelan Restaurant  Veterinarian  Video Game Store  Video Store  \textbackslash{}
          0                    0.0           0.0               0.0          0.0   
          1                    0.0           0.0               0.0          0.0   
          2                    0.0           0.0               0.0          0.0   
          3                    0.0           0.0               0.0          0.1   
          4                    0.0           0.0               0.0          0.0   
          
             Vietnamese Restaurant  Volleyball Court  Warehouse Store  Waterfront  \textbackslash{}
          0                    0.0               0.0              0.0         0.0   
          1                    0.0               0.0              0.0         0.0   
          2                    0.0               0.0              0.0         0.0   
          3                    0.0               0.0              0.0         0.0   
          4                    0.0               0.0              0.0         0.0   
          
             Weight Loss Center  Whisky Bar  Wine Bar  Wine Shop  Wings Joint  \textbackslash{}
          0                 0.0         0.0      0.01        0.0          0.0   
          1                 0.0         0.0      0.00        0.0          0.0   
          2                 0.0         0.0      0.00        0.0          0.0   
          3                 0.0         0.0      0.00        0.0          0.0   
          4                 0.0         0.0      0.00        0.0          0.0   
          
             Women's Store  
          0           0.01  
          1           0.00  
          2           0.00  
          3           0.00  
          4           0.00  
\end{Verbatim}
            
    \subsection{Final data for all
combined}\label{final-data-for-all-combined}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}106}]:} \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
          \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{all\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          
          \PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{all\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{all\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}
              
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted is }\PY{l+s+si}{\PYZob{}all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of all\_hoods\_venues\_sorted is (277, 11)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}106}]:}                                         Neighborhood 1st Most Common Venue  \textbackslash{}
          0                           Adelaide, King, Richmond           Coffee Shop   
          1                                          Agincourt        Breakfast Spot   
          2  Agincourt North, L'Amoreaux East, Milliken, St{\ldots}                  Park   
          3  Albion Gardens, Beaumond Heights, Humbergate, {\ldots}         Grocery Store   
          4                             Alderwood, Long Branch           Pizza Place   
          
            2nd Most Common Venue      3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
          0                   Bar                       Café            Steakhouse   
          1                Lounge  Latin American Restaurant          Skating Rink   
          2                Bakery                 Playground  Ethiopian Restaurant   
          3           Pizza Place        Fried Chicken Joint           Video Store   
          4                   Pub               Skating Rink                   Gym   
          
            5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
          0      Asian Restaurant      Sushi Restaurant          Burger Joint   
          1         Women's Store  Ethiopian Restaurant           Dry Cleaner   
          2            Dosa Place             Drugstore           Dry Cleaner   
          3              Pharmacy        Sandwich Place  Fast Food Restaurant   
          4        Sandwich Place              Pharmacy           Coffee Shop   
          
            8th Most Common Venue 9th Most Common Venue       10th Most Common Venue  
          0       Thai Restaurant                 Hotel                   Restaurant  
          1   Dumpling Restaurant        Duty-free Shop  Eastern European Restaurant  
          2   Dumpling Restaurant        Duty-free Shop  Eastern European Restaurant  
          3            Beer Store   Egyptian Restaurant  Eastern European Restaurant  
          4                  Pool        Farmers Market                         Farm  
\end{Verbatim}
            
    

    \section{Methodology}\label{methodology}

This section deploys Kmeans clustering on the data from the Data section
above. First, the data for each individual region is clustered. Then,
the data for the combinded/macro/all set is clustered. For all fit
clusters, 5 clusters are used. Note that this value is explored further
in the Results section below (spoiler alert, 5 is likely insufficient
for the macro/all set)

    \subsection{Individual Clustering}\label{individual-clustering}

We cluster each region individually. This will enable the creation of a
"fingerprint" map for Toronto, Manhattan, Queens and Staten Island.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}107}]:} \PY{k}{def} \PY{n+nf}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{grouped\PYZus{}df}\PY{p}{,} \PY{n}{venues\PYZus{}sorted\PYZus{}df}\PY{p}{,} \PY{n}{lat\PYZus{}lon\PYZus{}df}\PY{p}{,} \PY{n}{kclusters}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{:}
              \PY{c+c1}{\PYZsh{} fit cluster to the sorted venues, then merge label cluster data with geometric data df}
              
              \PY{n}{grouped\PYZus{}clustering} \PY{o}{=} \PY{n}{grouped\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
              \PY{n}{kmeans} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters}\PY{o}{=}\PY{n}{kclusters}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{grouped\PYZus{}clustering}\PY{p}{)}
              
              \PY{c+c1}{\PYZsh{}print(f\PYZdq{}There are \PYZob{}len(kmeans.labels\PYZus{})\PYZcb{} labels, \PYZob{}len(grouped\PYZus{}df)\PYZcb{} groups, and \PYZob{}len(venues\PYZus{}sorted\PYZus{}df)\PYZcb{} venues\PYZdq{})}
              
              \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Cluster Labels}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{venues\PYZus{}sorted\PYZus{}df}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
                  \PY{n}{venues\PYZus{}sorted\PYZus{}df} \PY{o}{=} \PY{n}{venues\PYZus{}sorted\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
          
              \PY{n}{venues\PYZus{}sorted\PYZus{}df}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{kmeans}\PY{o}{.}\PY{n}{labels\PYZus{}}\PY{p}{)}
          
              \PY{n}{clean\PYZus{}lat\PYZus{}lon\PYZus{}df} \PY{o}{=} \PY{n}{lat\PYZus{}lon\PYZus{}df}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighborhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
              
              \PY{n}{merged\PYZus{}df} \PY{o}{=} \PY{n}{clean\PYZus{}lat\PYZus{}lon\PYZus{}df}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{venues\PYZus{}sorted\PYZus{}df}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
              
              \PY{n}{merged\PYZus{}df}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              
              \PY{k}{del} \PY{n}{venues\PYZus{}sorted\PYZus{}df}
              
              \PY{k}{return} \PY{n}{merged\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}108}]:} \PY{n}{toronto\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{toronto\PYZus{}grouped}\PY{p}{,} \PY{n}{toronto\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{toronto\PYZus{}venues\PYZus{}df}\PY{p}{)}
          \PY{n}{manhattan\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{manhattan\PYZus{}grouped}\PY{p}{,} \PY{n}{manhattan\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{manhattan\PYZus{}venues\PYZus{}df}\PY{p}{)}
          \PY{n}{queens\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{queens\PYZus{}grouped}\PY{p}{,} \PY{n}{queens\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{queens\PYZus{}venues\PYZus{}df}\PY{p}{)}
          \PY{n}{staten\PYZus{}island\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{staten\PYZus{}island\PYZus{}grouped}\PY{p}{,} \PY{n}{staten\PYZus{}island\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{staten\PYZus{}island\PYZus{}venues\PYZus{}df}\PY{p}{)}
\end{Verbatim}


    \subsection{Macro clustering}\label{macro-clustering}

The data for Toronto, Manhattan, Queens and Staten Island are combined,
generating cluster commond accross location

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}109}]:} \PY{n}{all\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{all\PYZus{}grouped}\PY{p}{,} \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{all\PYZus{}venues\PYZus{}df}\PY{p}{,} \PY{n}{kclusters}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of all merged is }\PY{l+s+si}{\PYZob{}all\PYZus{}merged.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{all\PYZus{}merged}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of all merged is (277, 14)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}109}]:}                               Neighborhood   Latitude  Longitude  \textbackslash{}
          0                           Rouge, Malvern  43.806686 -79.194353   
          1   Highland Creek, Rouge Hill, Port Union  43.784535 -79.160497   
          4        Guildwood, Morningside, West Hill  43.763573 -79.188711   
          13                                  Woburn  43.770992 -79.216917   
          17                               Cedarbrae  43.773136 -79.239476   
          
              Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \textbackslash{}
          0                2  Fast Food Restaurant         Women's Store   
          1                1        History Museum                   Bar   
          4                1                   Spa   Rental Car Location   
          13               1           Coffee Shop              Pharmacy   
          17               1       Thai Restaurant                Bakery   
          
             3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \textbackslash{}
          0            Event Space            Dosa Place             Drugstore   
          1          Moving Target           Flea Market           Fish Market   
          4     Mexican Restaurant           Pizza Place     Electronics Store   
          13     Korean Restaurant         Women's Store            Dosa Place   
          17      Hakka Restaurant                  Bank   Fried Chicken Joint   
          
             6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \textbackslash{}
          0            Dry Cleaner   Dumpling Restaurant        Duty-free Shop   
          1              Drugstore           Dry Cleaner   Dumpling Restaurant   
          4           Intersection        Medical Center         Moving Target   
          13             Drugstore           Dry Cleaner   Dumpling Restaurant   
          17    Athletics \& Sports           Gas Station  Caribbean Restaurant   
          
                    9th Most Common Venue       10th Most Common Venue  
          0   Eastern European Restaurant          Egyptian Restaurant  
          1                Duty-free Shop  Eastern European Restaurant  
          4                Breakfast Spot  Eastern European Restaurant  
          13               Duty-free Shop  Eastern European Restaurant  
          17           English Restaurant                  Dry Cleaner  
\end{Verbatim}
            
    

    \section{Results}\label{results}

In this section, the data above is visualized using maps with tagged
icons.

First each region (toronto, manhattan, queens and staten island) are
mapped individually. Then, two maps are created to display the macro
data set - one center in on toronto and the other covering all New York
area data. Note that these maps are showing the same clustered dataset,
just two different parts of the world. These first two macro maps show
that the clusters are very course. For example Manhattan and Queens
contain only one cluster.

Finally, the macro data set is re-clustered with a greater cluster
count. \textbf{The final two maps in this section show the macro/all
dataset, with the first map centered on toronto and the second showing
all of New York.}

    \subsection{Independant clustering}\label{independant-clustering}

What clusters appear when each location is clustered individually?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}110}]:} \PY{k}{def} \PY{n+nf}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{merged\PYZus{}df}\PY{p}{,} \PY{n}{this\PYZus{}map}\PY{p}{)}\PY{p}{:}
              \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} a function to add cluster data to folium map as markers}
              
              \PY{c+c1}{\PYZsh{} set color scheme for the clusters}
              \PY{n}{kclusters} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{merged\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}
              \PY{n}{x} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{kclusters}\PY{p}{)}
              \PY{n}{ys} \PY{o}{=} \PY{p}{[}\PY{n}{i} \PY{o}{+} \PY{n}{x} \PY{o}{+} \PY{p}{(}\PY{n}{i}\PY{o}{*}\PY{n}{x}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{kclusters}\PY{p}{)}\PY{p}{]}
              \PY{n}{colors\PYZus{}array} \PY{o}{=} \PY{n}{cm}\PY{o}{.}\PY{n}{rainbow}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{ys}\PY{p}{)}\PY{p}{)}\PY{p}{)}
              \PY{n}{rainbow} \PY{o}{=} \PY{p}{[}\PY{n}{colors}\PY{o}{.}\PY{n}{rgb2hex}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{colors\PYZus{}array}\PY{p}{]}
              
              \PY{c+c1}{\PYZsh{} add markers to the map}
              \PY{n}{markers\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{p}{]}
              \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{,} \PY{n}{poi}\PY{p}{,} \PY{n}{cluster} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{merged\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{merged\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{merged\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{merged\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
                  \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{poi}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ Cluster }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{cluster}\PY{p}{)}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
                  \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                      \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{]}\PY{p}{,}
                      \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
                      \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                      \PY{n}{color}\PY{o}{=}\PY{n}{rainbow}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{cluster}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}
                      \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                      \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{rainbow}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{cluster}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}
                      \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{this\PYZus{}map}\PY{p}{)}
                  
              \PY{k}{return} \PY{n}{this\PYZus{}map}
\end{Verbatim}


    

    \subsubsection{Toronto map}\label{toronto-map}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}146}]:} \PY{n}{toronto\PYZus{}location} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{43.6532}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{79.3832}\PY{p}{]}
          \PY{n}{toronto\PYZus{}map} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{toronto\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{toronto\PYZus{}map} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{toronto\PYZus{}merged}\PY{p}{,} \PY{n}{toronto\PYZus{}map}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}toronto\PYZus{}map}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{toronto.png}
\caption{toronto}
\end{figure}

    

    \subsubsection{Manhattan Map}\label{manhattan-map}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}145}]:} \PY{n}{manhattan\PYZus{}location} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{40.7831}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{73.9712}\PY{p}{]}
          \PY{n}{manhattan\PYZus{}map} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{manhattan\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{manhattan\PYZus{}map} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{manhattan\PYZus{}merged}\PY{p}{,} \PY{n}{manhattan\PYZus{}map}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}manhattan\PYZus{}map}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{manhattan.png}
\caption{Manhattan}
\end{figure}

    

    \subsubsection{Queens map}\label{queens-map}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}144}]:} \PY{n}{queens\PYZus{}location} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{40.7282}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{73.7949}\PY{p}{]}
          \PY{n}{queens\PYZus{}map} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{queens\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{queens\PYZus{}map} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{queens\PYZus{}merged}\PY{p}{,} \PY{n}{queens\PYZus{}map}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}queens\PYZus{}map}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{queens.png}
\caption{Queens}
\end{figure}

    

    \subsubsection{Staten Island Map}\label{staten-island-map}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}143}]:} \PY{n}{staten\PYZus{}island\PYZus{}location} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{40.5795}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{74.1502}\PY{p}{]}
          \PY{n}{staten\PYZus{}island\PYZus{}map} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{staten\PYZus{}island\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{staten\PYZus{}island\PYZus{}map} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{p}{,} \PY{n}{staten\PYZus{}island\PYZus{}map}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}staten\PYZus{}island\PYZus{}map}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{staten_island.png}
\caption{Staten Island}
\end{figure}

    \subsection{Macro map of all, centered in
Toronto}\label{macro-map-of-all-centered-in-toronto}

This is the macro data, but zoomed in for clarity

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}142}]:} \PY{n}{all\PYZus{}map\PYZus{}toronto} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{toronto\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{all\PYZus{}map\PYZus{}toronto} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{all\PYZus{}merged}\PY{p}{,} \PY{n}{all\PYZus{}map\PYZus{}toronto}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}all\PYZus{}map\PYZus{}toronto}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{all_1_a.png}
\caption{All, 5 cluster, Toronto}
\end{figure}

    \subsection{Macro map of all, centered in New
York}\label{macro-map-of-all-centered-in-new-york}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}141}]:} \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{40.55}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{73.9442}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{all\PYZus{}merged}\PY{p}{,} \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}all\PYZus{}map\PYZus{}new\PYZus{}york}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{all_2_a.png}
\caption{All, 5 cluster, NY}
\end{figure}

    \subsection{Re-clustering macro/all, with more
resolution}\label{re-clustering-macroall-with-more-resolution}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}117}]:} \PY{n}{all\PYZus{}merged} \PY{o}{=} \PY{n}{cluster\PYZus{}my\PYZus{}data}\PY{p}{(}\PY{n}{all\PYZus{}grouped}\PY{p}{,} \PY{n}{all\PYZus{}hoods\PYZus{}venues\PYZus{}sorted}\PY{p}{,} \PY{n}{all\PYZus{}venues\PYZus{}df}\PY{p}{,} \PY{n}{kclusters}\PY{o}{=}\PY{l+m+mi}{9}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The shape of all merged is }\PY{l+s+si}{\PYZob{}all\PYZus{}merged.shape\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The shape of all merged is (277, 14)

    \end{Verbatim}

    

    \subsection{Macro map of all, centered in Toronto, higher
resolution}\label{macro-map-of-all-centered-in-toronto-higher-resolution}

This is the macro data, but zoomed in for clarity, with more clusters

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}139}]:} \PY{n}{all\PYZus{}map\PYZus{}toronto} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{n}{toronto\PYZus{}location}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}
          \PY{n}{all\PYZus{}map\PYZus{}toronto} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{all\PYZus{}merged}\PY{p}{,} \PY{n}{all\PYZus{}map\PYZus{}toronto}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}all\PYZus{}map\PYZus{}toronto}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{all_1_b.png}
\caption{All, high cluster, Toronto}
\end{figure}

    

    \subsection{Macro map of all, centered in New York, higher
resolution}\label{macro-map-of-all-centered-in-new-york-higher-resolution}

This is the macro data, but zoomed in for clarity, with more clusters

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}137}]:} \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{40.55}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{73.9442}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
          \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york} \PY{o}{=} \PY{n}{add\PYZus{}clusters\PYZus{}to\PYZus{}map}\PY{p}{(}\PY{n}{all\PYZus{}merged}\PY{p}{,} \PY{n}{all\PYZus{}map\PYZus{}new\PYZus{}york}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}all\PYZus{}map\PYZus{}new\PYZus{}york}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{all_2_b.png}
\caption{All, high cluster, NY}
\end{figure}

    

    \section{Discussion}\label{discussion}

Discussion section where you discuss any observations you noted and any
recommendations you can make based on the results.

    \subsection{Discussion of individual
results}\label{discussion-of-individual-results}

    \textbf{Toronto} Section \ref{toronto} fall in 3 main bands centered
around the city center on the lake. Bands closer to the center have more
prevelent restaurants. Bands farther from the center have more prevelent
shoping strip malls. The exception is cluster 1 which seems to include a
band of parks at middle distance from the downtown center. Cluster 2 and
3 have so few items that they appear to be outliers, as shown below.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}120}]:} \PY{n}{toronto\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}120}]:} 0    55
          4    27
          1    13
          3     2
          2     2
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \textbf{Manhattan} Section \ref{manhattan} fall in to thee main (bottom
left, bottom right and uptown categories). Clusters 2 and 3 have only
one neighborhood each, so their contents are singled out below.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}121}]:} \PY{n}{manhattan\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}121}]:} 0    19
          4    10
          1     9
          3     1
          2     1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}122}]:} \PY{n}{manhattan\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{manhattan\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}122}]:}        Neighborhood  Latitude  Longitude  Cluster Labels  \textbackslash{}
          2720  Midtown South  40.74851 -73.988713               3   
          
               1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          2720     Korean Restaurant   Japanese Restaurant                 Hotel   
          
               4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          2720          Dessert Shop             Hotel Bar           Coffee Shop   
          
               7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          2720   American Restaurant        Cosmetics Shop  Gym / Fitness Center   
          
               10th Most Common Venue  
          2720              Gastropub  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}123}]:} \PY{n}{manhattan\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{manhattan\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}123}]:}          Neighborhood  Latitude  Longitude  Cluster Labels  \textbackslash{}
          3101  Stuyvesant Town    40.731 -73.974052               2   
          
               1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          3101                  Park                   Bar        Baseball Field   
          
               4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          3101              Heliport           Gas Station        Farmers Market   
          
               7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          3101     German Restaurant                Bistro  Gym / Fitness Center   
          
               10th Most Common Venue  
          3101           Cocktail Bar  
\end{Verbatim}
            
    \textbf{Queens} Section \ref{queens} are dominated by two main clusters.
The first is grouped near the north-to-south and east-to-west highways
that transect Queens. The second fills in the four quarters created by
the highways. The remaining three regions have very few neighborhoods
per cluster, so are broke out below. It does seem that cluster 4 and 2
could possible be combined, suggesting over fitting.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}124}]:} \PY{n}{queens\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}124}]:} 1    76
          0     2
          4     1
          3     1
          2     1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}147}]:} \PY{n}{queens\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{queens\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{4}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}147}]:}      Neighborhood   Latitude  Longitude  Cluster Labels 1st Most Common Venue  \textbackslash{}
          1503     Neponsit  40.572037 -73.857547               4                 Beach   
          
               2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
          1503                   Bar     Fish \& Chips Shop    Falafel Restaurant   
          
               5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
          1503                  Farm        Farmers Market  Fast Food Restaurant   
          
               8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  
          1503   Filipino Restaurant         Women's Store      French Restaurant  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}151}]:} \PY{n}{queens\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{queens\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}151}]:}          Neighborhood   Latitude  Longitude  Cluster Labels  \textbackslash{}
          1565  Jamaica Estates  40.716805 -73.787227               3   
          
               1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          1565     Indian Restaurant          Intersection         Women's Store   
          
               4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          1565     Fish \& Chips Shop           Event Space    Falafel Restaurant   
          
               7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          1565                  Farm        Farmers Market  Fast Food Restaurant   
          
               10th Most Common Venue  
          1565    Filipino Restaurant  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}152}]:} \PY{n}{queens\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{queens\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}152}]:}      Neighborhood   Latitude  Longitude  Cluster Labels 1st Most Common Venue  \textbackslash{}
          1729   Brookville  40.660003 -73.751753               2         Deli / Bodega   
          
               2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
          1729         Women's Store   Empanada Restaurant            Food Court   
          
               5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
          1729     Food \& Drink Shop                  Food           Flower Shop   
          
               8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  
          1729           Flea Market           Fish Market      Fish \& Chips Shop  
\end{Verbatim}
            
    \textbf{Staten Island} Section \ref{staten} are dominated by a north and
south region. The remaining clusters are very small, so their contents
are printed in full below.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}128}]:} \PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}128}]:} 1    31
          0    20
          4     9
          3     1
          2     1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}129}]:} \PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}129}]:}     Neighborhood   Latitude  Longitude  Cluster Labels 1st Most Common Venue  \textbackslash{}
          166   Port Ivory  40.639683 -74.174645               3                   Bar   
          
              2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
          166           Yoga Studio    Falafel Restaurant            Food Truck   
          
              5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
          166     Food \& Drink Shop                  Food           Flower Shop   
          
              8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  
          166     Fish \& Chips Shop   Filipino Restaurant   Fast Food Restaurant  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}150}]:} \PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{staten\PYZus{}island\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}150}]:}     Neighborhood   Latitude  Longitude  Cluster Labels 1st Most Common Venue  \textbackslash{}
          148    Todt Hill  40.597069 -74.111329               2                  Park   
          
              2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
          148           Yoga Studio           Event Space     Food \& Drink Shop   
          
              5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
          148                  Food           Flower Shop     Fish \& Chips Shop   
          
              8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  
          148   Filipino Restaurant  Fast Food Restaurant         Farmers Market  
\end{Verbatim}
            
    \subsection{Discussion of macro/all/combinded
clusters}\label{discussion-of-macroallcombinded-clusters}

The macro map Section \ref{all1} shows promise in helping someone who
has lived in Toronto select a neighborhood in Queens or Staten Island,
because Toronto contains many (7 out of 9) common clusters clusters with
both Queens and Staten Island. However, the Manhattan region of the
Section \ref{all2} seems to be helpfull only for those looking for what
appears to be the metro region (cluster 4). Although, even this category
is present in both potential move regions.

Toronto does have some clusters with only one category, so those are
detailed below.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}153}]:} \PY{n}{all\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}153}]:} 4    186
          3     38
          1     27
          6     11
          7      7
          0      4
          5      2
          8      1
          2      1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}154}]:} \PY{n}{all\PYZus{}toronto\PYZus{}merged} \PY{o}{=} \PY{n}{all\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}merged}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Latitude}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mi}{42}\PY{p}{]}
          \PY{n}{all\PYZus{}toronto\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}154}]:} 4    59
          3    15
          1    11
          7     5
          6     5
          0     2
          5     1
          2     1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}155}]:} \PY{n}{all\PYZus{}ny\PYZus{}merged} \PY{o}{=} \PY{n}{all\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}merged}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Latitude}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{42}\PY{p}{]}
          \PY{n}{all\PYZus{}ny\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}155}]:} 4    127
          3     23
          1     16
          6      6
          7      2
          0      2
          8      1
          5      1
          Name: Cluster Labels, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}156}]:} \PY{n}{all\PYZus{}toronto\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}toronto\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{5}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}156}]:}            Neighborhood   Latitude  Longitude  Cluster Labels  \textbackslash{}
          25  Scarborough Village  43.744734 -79.239476               5   
          
             1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          25            Playground         Women's Store               Exhibit   
          
             4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          25             Drugstore           Dry Cleaner   Dumpling Restaurant   
          
             7th Most Common Venue        8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          25        Duty-free Shop  Eastern European Restaurant   Egyptian Restaurant   
          
             10th Most Common Venue  
          25      Electronics Store  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}157}]:} \PY{n}{all\PYZus{}toronto\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{all\PYZus{}toronto\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}157}]:}                  Neighborhood  Latitude  Longitude  Cluster Labels  \textbackslash{}
          163  Silver Hills, York Mills  43.75749 -79.374714               2   
          
              1st Most Common Venue 2nd Most Common Venue 3rd Most Common Venue  \textbackslash{}
          163             Cafeteria         Women's Store           Event Space   
          
              4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \textbackslash{}
          163             Drugstore           Dry Cleaner   Dumpling Restaurant   
          
              7th Most Common Venue        8th Most Common Venue 9th Most Common Venue  \textbackslash{}
          163        Duty-free Shop  Eastern European Restaurant   Egyptian Restaurant   
          
              10th Most Common Venue  
          163      Electronics Store  
\end{Verbatim}
            
    \subsection{Final Recommendation
Table}\label{final-recommendation-table}

The table below uses the mapped results for the top 3 represented
clusters in the all/macro data to suggest a move location, given
preferences of toronto and/or manhattan clusters

\begin{longtable}[]{@{}lll@{}}
\toprule
\begin{minipage}[b]{0.22\columnwidth}\raggedright\strut
Preferred cluster\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright\strut
Preferred Cluster Description\strut
\end{minipage} & \begin{minipage}[b]{0.22\columnwidth}\raggedright\strut
Recommended Move location\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Cluster 4\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Downtown Toronto and/or Manhattan\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Northeast Queens or Northeast Staten Island\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Cluster 3\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Mid-town Toronto\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Queens, either Laurelton Cluster or Bayswater neighborhoods\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Cluster 1\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Western Toronto\strut
\end{minipage} & \begin{minipage}[t]{0.22\columnwidth}\raggedright\strut
Southern Staten Island\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

    

    \section{Conclusion}\label{conclusion}

This report stands as a successful demonstration of a move
recommendation tool.

The example contained here delivers dynamically navigable maps of the
"from" locations (Toronto and Manhattan) as well as the "to" locations
(Queens and Staten Island) which included clustered regions. Using these
maps, with their individually clustered neighborhoods, each location can
be manually audited for trends.

In addition, two final maps are provided which show the clustered model
of all neighborhoods. Using these maps, The majority of "from" locations
can be mapped to similar location in Queens and Staten Island. This
mapping is summarized in the move recommendation table above, where
specific move recommendations are contained.

In general, the methods used in this report can be broadly applied to
arbitrary "to" and "from" locations. Because the methods used here are
automated, the goal of creating a scalable recommendation model is
satisfied.


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
